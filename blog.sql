-- MySQL dump 10.13  Distrib 8.0.12, for Linux (x86_64)
--
-- Host: localhost    Database: blog
-- ------------------------------------------------------
-- Server version	8.0.12

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
 SET NAMES utf8mb4 ;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `administrators`
--

DROP TABLE IF EXISTS `administrators`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
 SET character_set_client = utf8mb4 ;
CREATE TABLE `administrators` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `account` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `password` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `remember_token` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `administrators_account_index` (`account`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `administrators`
--

LOCK TABLES `administrators` WRITE;
/*!40000 ALTER TABLE `administrators` DISABLE KEYS */;
INSERT INTO `administrators` VALUES (1,'ysama','$2y$10$0CqsuE5QA4Pt7VM3O4sXuuJk3cFjgioia9blawENpWqGl6Z6i6f2C','kg4MK6ooDBoH8SVU8BIf3nfrimNuKejbmhDlFILr4PU8AEfc2a2MBEyF8TRC','2018-05-16 17:13:25','2018-05-16 17:13:25');
/*!40000 ALTER TABLE `administrators` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `articles`
--

DROP TABLE IF EXISTS `articles`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
 SET character_set_client = utf8mb4 ;
CREATE TABLE `articles` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `title` varchar(255) NOT NULL,
  `image` varchar(255) NOT NULL DEFAULT '',
  `updated_at` timestamp NULL DEFAULT NULL,
  `created_at` timestamp NULL DEFAULT NULL,
  `html` longtext NOT NULL,
  `con` longtext NOT NULL,
  `hits` int(10) unsigned NOT NULL DEFAULT '1',
  `status` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `source` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '是原创或者转载',
  `tags` varchar(45) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=19 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `articles`
--

LOCK TABLES `articles` WRITE;
/*!40000 ALTER TABLE `articles` DISABLE KEYS */;
INSERT INTO `articles` VALUES (1,'留言板','','2018-05-18 17:16:38',NULL,'<p>有什么想说的可以尽情发言哦~亲~</p>','<p>有什么想说的可以尽情发言哦~亲~</p>',59,0,1,'[\"生活\"]'),(2,'关于我','','2018-05-18 17:16:33',NULL,'<p>本人从大一下学年开始学习前端JS，对于各种特效十分感兴趣，因为这可以让我充（逼）实（格）自（满）己（满）。</p><p>在学习AJAX的过程中我接触到了PHP，发现这门语言十分有趣，于是开始转而学习PHP至今。</p>','<p>本人从大一下学年开始学习前端JS，对于各种特效十分感兴趣，因为这可以让我充（逼）实（格）自（满）己（满）。</p><p>在学习AJAX的过程中我接触到了PHP，发现这门语言十分有趣，于是开始转而学习PHP至今。</p>',64,0,1,'[\"生活\"]'),(5,'这段时间我可能中了七宗罪之懒惰','http://o90jk9gyr.bkt.clouddn.com/DSC_0158.JPG','2018-05-18 17:15:29',NULL,'<p>这段时间一直在玩游戏，学习也就是偶尔才会看一会书，虽然内心里充满着毕业临近的焦灼感，可是总是会被懒惰给控制。被这两种情感折磨了有一段时间，我终于悟了，现在学习是为了以后有能力让自己拥有懒惰的本钱。</p>\n<p>我们一定要知道人生来就是有三六九等的，这个三六九等体现在三个方面：智力（包括你的毅力、智商、情商等等）、体力、出生。就拿War3来说吧，有人出生就是英雄，有人出生就是农民。有人出生的时候就附带技能点，有的人出生的时候甚至连MP都没有。但是，也许没有剑圣你赢不了这场比赛，但是没有农民你连剑圣都不会有。</p>\n<p>人们的三六九等里面唯一无法改变的就是你的出生，你无法改变你的父母，你无法改变你的家族，但是我们的智力和体力，都是通过后天锻炼可以加强的。每个人都有每个人生命的价值，人族里的农民都知道拿起武器武装自己参加战斗，何况我们呢？</p>\n<p>因为各种原因旁边的人总是在灌输着各种各样的鸡汤，然而很多时候，像鸡汤里那样乐观的态度帮不了你。青年靠什么混日子?头等青年靠出身，二等青年靠关系，三等青年靠天资，四等青年靠努力，五等青年耍文艺，六等青年打游戏，穷游，看美剧。我觉得，人就是要有一颗强烈的妒忌心。就说的现实点，假如你看到别人身边环绕着一个又一个美女，而你的内心却毫无波动，那你也就只能一辈子毫无波动了。而一旦妒忌，你就会想着把他身边的人抢过来，那么凭什么能把别人踩在身下呢？只有增加自己的能力，无论是技术也好，社交网络也好，总之就是让自己在社会中不断的往上爬，当你发现没有人能够让你妒忌的时候，你也就成功了。在如今这个利益至上的社会，如果还采用语文课本里写的什么不能对别人产生负面情绪那样的生活方式，那还是回家做你的乖宝宝去吧。顺便说下妒忌的意思:对别人的长处感到不痛快或忿恨，同时有希望自己具有同样的长处，一般在比较亲近或很熟的人之间出现。</p>\n<p>说了这么多，游戏应该更新完了๑乛◡乛๑</p>\n<p><img src=\"http://o90jk9gyr.bkt.clouddn.com/DSC_0158.JPG\" alt=\"\" /></p>\n<p><img src=\"http://o90jk9gyr.bkt.clouddn.com/DSC_0159.JPG\" alt=\"\" /></p>\n<p><img src=\"http://o90jk9gyr.bkt.clouddn.com/DSC_0160.JPG\" alt=\"\" /></p>','这段时间一直在玩游戏，学习也就是偶尔才会看一会书，虽然内心里充满着毕业临近的焦灼感，可是总是会被懒惰给控制。被这两种情感折磨了有一段时间，我终于悟了，现在学习是为了以后有能力让自己拥有懒惰的本钱。\n\n我们一定要知道人生来就是有三六九等的，这个三六九等体现在三个方面：智力（包括你的毅力、智商、情商等等）、体力、出生。就拿War3来说吧，有人出生就是英雄，有人出生就是农民。有人出生的时候就附带技能点，有的人出生的时候甚至连MP都没有。但是，也许没有剑圣你赢不了这场比赛，但是没有农民你连剑圣都不会有。\n\n人们的三六九等里面唯一无法改变的就是你的出生，你无法改变你的父母，你无法改变你的家族，但是我们的智力和体力，都是通过后天锻炼可以加强的。每个人都有每个人生命的价值，人族里的农民都知道拿起武器武装自己参加战斗，何况我们呢？\n\n因为各种原因旁边的人总是在灌输着各种各样的鸡汤，然而很多时候，像鸡汤里那样乐观的态度帮不了你。青年靠什么混日子?头等青年靠出身，二等青年靠关系，三等青年靠天资，四等青年靠努力，五等青年耍文艺，六等青年打游戏，穷游，看美剧。我觉得，人就是要有一颗强烈的妒忌心。就说的现实点，假如你看到别人身边环绕着一个又一个美女，而你的内心却毫无波动，那你也就只能一辈子毫无波动了。而一旦妒忌，你就会想着把他身边的人抢过来，那么凭什么能把别人踩在身下呢？只有增加自己的能力，无论是技术也好，社交网络也好，总之就是让自己在社会中不断的往上爬，当你发现没有人能够让你妒忌的时候，你也就成功了。在如今这个利益至上的社会，如果还采用语文课本里写的什么不能对别人产生负面情绪那样的生活方式，那还是回家做你的乖宝宝去吧。顺便说下妒忌的意思:对别人的长处感到不痛快或忿恨，同时有希望自己具有同样的长处，一般在比较亲近或很熟的人之间出现。\n\n说了这么多，游戏应该更新完了๑乛◡乛๑\n\n![](http://o90jk9gyr.bkt.clouddn.com/DSC_0158.JPG)\n\n![](http://o90jk9gyr.bkt.clouddn.com/DSC_0159.JPG)\n\n![](http://o90jk9gyr.bkt.clouddn.com/DSC_0160.JPG)',19,0,1,'[\"生活\",\"游戏\"]'),(6,'FF15通关达成√','http://o90jk9gyr.bkt.clouddn.com/FINAL%20FANTASY%20XV_20171116204616.jpg','2018-05-18 17:15:23',NULL,'<p>说实话没感觉FF15有什么好玩的，尤其是最后男主女主居然都死了这是让我没想到的，看到结局那一幕我的大脑在颤抖啊，另外明明死都死了，结尾CG还让他们的灵魂依偎在一起是什么鬼啊喂！而且讲道理男主的灵魂是进入了王者之戒里的。。。。不过游戏里的风景倒是挺好看的。</p>\n<p><img src=\"http://o90jk9gyr.bkt.clouddn.com/FINAL%20FANTASY%20XV_20171116204616.jpg\" alt=\"\" /></p>\n<p><img src=\"http://o90jk9gyr.bkt.clouddn.com/FINAL%20FANTASY%20XV_20171028002429.jpg\" alt=\"\" /></p>\n<p><img src=\"http://o90jk9gyr.bkt.clouddn.com/FINAL%20FANTASY%20XV_20171028001911.jpg\" alt=\"\" /></p>','说实话没感觉FF15有什么好玩的，尤其是最后男主女主居然都死了这是让我没想到的，看到结局那一幕我的大脑在颤抖啊，另外明明死都死了，结尾CG还让他们的灵魂依偎在一起是什么鬼啊喂！而且讲道理男主的灵魂是进入了王者之戒里的。。。。不过游戏里的风景倒是挺好看的。\n\n![](http://o90jk9gyr.bkt.clouddn.com/FINAL%20FANTASY%20XV_20171116204616.jpg)\n\n![](http://o90jk9gyr.bkt.clouddn.com/FINAL%20FANTASY%20XV_20171028002429.jpg)\n\n![](http://o90jk9gyr.bkt.clouddn.com/FINAL%20FANTASY%20XV_20171028001911.jpg)',29,1,1,'[\"游戏\"]'),(7,'2017年12月31日萤火虫漫展','http://o90jk9gyr.bkt.clouddn.com/2017-12-31DSC_0221.JPG','2018-05-18 17:15:15',NULL,'<p>来到广州也是有一段时间了，期间经历过迷路、挤地铁、找房子、找工作一系列的事情，好在花了没多久的时间总算是找到了工作，开始了一段平淡无奇的生活。但是！朋友告诉我说31号有萤火虫漫展！我:???我的天！先看看是什么时候，可以，这波很nice，连续三天的漫展，星期天可以去了。于是乎，排了超长的队后终于到了久违的展子内部，而且里面居然还有剑网三游戏体验区！看着那些试玩的人都是大佬我站在一边瑟瑟发抖。。。但是我还是要说：鲸鱼天下无敌！</p>\n<p><img src=\"http://o90jk9gyr.bkt.clouddn.com/2017-12-31DSC_0221.JPG\" alt=\"\" /></p>\n<p><img src=\"http://o90jk9gyr.bkt.clouddn.com/2017-12-31DSC_0215.JPG\" alt=\"\" /></p>\n<p><img src=\"http://o90jk9gyr.bkt.clouddn.com/2017-12-31DSC_0222.JPG\" alt=\"\" /></p>\n<p><img src=\"http://o90jk9gyr.bkt.clouddn.com/2017-12-31DSC_0372.JPG\" alt=\"\" /></p>','来到广州也是有一段时间了，期间经历过迷路、挤地铁、找房子、找工作一系列的事情，好在花了没多久的时间总算是找到了工作，开始了一段平淡无奇的生活。但是！朋友告诉我说31号有萤火虫漫展！我:???我的天！先看看是什么时候，可以，这波很nice，连续三天的漫展，星期天可以去了。于是乎，排了超长的队后终于到了久违的展子内部，而且里面居然还有剑网三游戏体验区！看着那些试玩的人都是大佬我站在一边瑟瑟发抖。。。但是我还是要说：鲸鱼天下无敌！\n\n![](http://o90jk9gyr.bkt.clouddn.com/2017-12-31DSC_0221.JPG)\n\n![](http://o90jk9gyr.bkt.clouddn.com/2017-12-31DSC_0215.JPG)\n\n![](http://o90jk9gyr.bkt.clouddn.com/2017-12-31DSC_0222.JPG)\n\n![](http://o90jk9gyr.bkt.clouddn.com/2017-12-31DSC_0372.JPG)',33,1,1,'[\"生活\"]'),(8,'让PHP7达到最高性能的几个Tips','http://laruence-wordpress.stor.sinaapp.com/uploads/MYVQSTIBYX6KHZQ9XH72U.jpg','2018-05-18 17:16:25',NULL,'<p>PHP7已经发布了, 作为PHP10年来最大的版本升级, 最大的性能升级, PHP7在多放的测试中都表现出很明显的性能提升, 然而, 为了让它能发挥出最大的性能, 我还是有几件事想提醒下.</p>\n<p><img src=\"http://laruence-wordpress.stor.sinaapp.com/uploads/MYVQSTIBYX6KHZQ9XH72U.jpg\" alt=\"\" /></p>\n<h2>1. Opcache</h2>\n<p>记得启用Zend Opcache, 因为PHP7即使不启用Opcache速度也比PHP-5.6启用了Opcache快, 所以之前测试时期就发生了有人一直没有启用Opcache的事情. 启用Opcache非常简单, 在php.ini配置文件中加入:</p>\n<pre><code class=\"lang-\">zend_extension=opcache.so\nopcache.enable=1\nopcache.enable_cli=1\n</code></pre>\n<h2>2. 使用新的编译器</h2>\n<p>使用新一点的编译器, 推荐GCC 4.8以上, 因为只有GCC 4.8以上PHP才会开启Global Register for opline and execute_data支持, 这个会带来5%左右的性能提升(Wordpres的QPS角度衡量)</p>\n<p>其实GCC 4.8以前的版本也支持, 但是我们发现它支持的有Bug, 所以必须是4.8以上的版本才会开启这个特性.</p>\n<h2>3. HugePage</h2>\n<p>我之前的文章也介绍过: <a href=\"http://www.laruence.com/2015/10/02/3069.html\" title=\"让你的PHP7更快之HUGEPAGE\" target=\"_blank\">让你的PHP7更快之HUGEPAGE</a> , 首先在系统中开启HugePages, 然后开启Opcache的huge_code_pages.</p>\n<p>以我的CentOS 6.5为例, 通过:</p>\n<pre><code class=\"lang-\">$sudo sysctl vm.nr_hugepages=512\n</code></pre>\n<p>分配512个预留的大页内存:</p>\n<pre><code class=\"lang-\">$ cat /proc/meminfo | grep Huge\nAnonHugePages: 106496 kB\nHugePages_Total: 512\nHugePages_Free: 504\nHugePages_Rsvd: 27\nHugePages_Surp: 0\nHugepagesize: 2048 kB\n</code></pre>\n<p>然后在php.ini中加入:</p>\n<pre><code class=\"lang-\">opcache.huge_code_pages=1 \n</code></pre>\n<p>这样一来, PHP会把自身的text段, 以及内存分配中的huge都采用大内存页来保存, 减少TLB miss, 从而提高性能.</p>\n<h2>4. Opcache file cache</h2>\n<p>开启Opcache File Cache(实验性), 通过开启这个, 我们可以让Opcache把opcode缓存缓存到外部文件中, 对于一些脚本, 会有很明显的性能提升.<br />\n在php.ini中加入:</p>\n<pre><code class=\"lang-\">opcache.file_cache=/tmp\n</code></pre>\n<p>这样PHP就会在/tmp目录下Cache一些Opcode的二进制导出文件, 可以跨PHP生命周期存在.</p>\n<h2>5. PGO</h2>\n<p>我之前的文章: <a href=\"http://www.laruence.com/2015/06/19/3063.html\" title=\"让你的PHP7更快(GCC PGO)\" target=\"_blank\">让你的PHP7更快(GCC PGO)</a> 也介绍过, 如果你的PHP是专门为一个项目服务, 比如只是为你的Wordpress, 或者drupal, 或者其他什么, 那么你就可以尝试通过PGO, 来提升PHP, 专门为你的这个项目提高性能.</p>\n<p>具体的, 以wordpress 4.1为优化场景… 首先在编译PHP的时候首先:</p>\n<pre><code class=\"lang-\">$make prof-gen\n</code></pre>\n<p>然后用你的项目训练PHP, 比如对于Wordpress:</p>\n<pre><code class=\"lang-\">$ sapi/cgi/php-cgi -T 100 /home/huixinchen/local/www/htdocs/wordpress/index.php &gt;/dev/null\n</code></pre>\n<p>也就是让php-cgi跑100遍wordpress的首页, 从而生成一些在这个过程中的profile信息.</p>\n<p>最后:</p>\n<pre><code class=\"lang-\">$ make prof-clean\n$ make prof-use &amp;&amp; make install\n</code></pre>\n<p>这个时候你编译得到的PHP7就是为你的项目量身打造的最高性能的编译版本.</p>\n<p>暂时就这么多吧, 以后想起来再加, 欢迎大家尝试, thanks</p>\n<p>本文转载自<a href=\"http://www.laruence.com/2015/12/04/3086.html\" title=\"http://www.laruence.com/2015/12/04/3086.html\" target=\"_blank\">http://www.laruence.com/2015/12/04/3086.html</a></p>','PHP7已经发布了, 作为PHP10年来最大的版本升级, 最大的性能升级, PHP7在多放的测试中都表现出很明显的性能提升, 然而, 为了让它能发挥出最大的性能, 我还是有几件事想提醒下.\n\n![](http://laruence-wordpress.stor.sinaapp.com/uploads/MYVQSTIBYX6KHZQ9XH72U.jpg)\n\n## 1. Opcache\n\n记得启用Zend Opcache, 因为PHP7即使不启用Opcache速度也比PHP-5.6启用了Opcache快, 所以之前测试时期就发生了有人一直没有启用Opcache的事情. 启用Opcache非常简单, 在php.ini配置文件中加入:\n\n```\nzend_extension=opcache.so\nopcache.enable=1\nopcache.enable_cli=1\n```\n\n## 2. 使用新的编译器\n\n使用新一点的编译器, 推荐GCC 4.8以上, 因为只有GCC 4.8以上PHP才会开启Global Register for opline and execute_data支持, 这个会带来5%左右的性能提升(Wordpres的QPS角度衡量)\n\n其实GCC 4.8以前的版本也支持, 但是我们发现它支持的有Bug, 所以必须是4.8以上的版本才会开启这个特性.\n\n## 3. HugePage\n\n我之前的文章也介绍过: [让你的PHP7更快之HUGEPAGE](http://www.laruence.com/2015/10/02/3069.html \"让你的PHP7更快之HUGEPAGE\") , 首先在系统中开启HugePages, 然后开启Opcache的huge_code_pages.\n\n以我的CentOS 6.5为例, 通过:\n\n```\n$sudo sysctl vm.nr_hugepages=512\n```\n\n分配512个预留的大页内存:\n\n```\n$ cat /proc/meminfo | grep Huge\nAnonHugePages: 106496 kB\nHugePages_Total: 512\nHugePages_Free: 504\nHugePages_Rsvd: 27\nHugePages_Surp: 0\nHugepagesize: 2048 kB\n```\n\n然后在php.ini中加入:\n\n```\nopcache.huge_code_pages=1 \n```\n\n这样一来, PHP会把自身的text段, 以及内存分配中的huge都采用大内存页来保存, 减少TLB miss, 从而提高性能.\n\n## 4. Opcache file cache\n\n开启Opcache File Cache(实验性), 通过开启这个, 我们可以让Opcache把opcode缓存缓存到外部文件中, 对于一些脚本, 会有很明显的性能提升.\n在php.ini中加入:\n\n```\nopcache.file_cache=/tmp\n```\n\n这样PHP就会在/tmp目录下Cache一些Opcode的二进制导出文件, 可以跨PHP生命周期存在. \n\n## 5. PGO\n\n我之前的文章: [让你的PHP7更快(GCC PGO)](http://www.laruence.com/2015/06/19/3063.html \"让你的PHP7更快(GCC PGO)\") 也介绍过, 如果你的PHP是专门为一个项目服务, 比如只是为你的Wordpress, 或者drupal, 或者其他什么, 那么你就可以尝试通过PGO, 来提升PHP, 专门为你的这个项目提高性能.\n\n具体的, 以wordpress 4.1为优化场景.. 首先在编译PHP的时候首先:\n\n```\n$make prof-gen\n```\n\n然后用你的项目训练PHP, 比如对于Wordpress:\n \n ```\n$ sapi/cgi/php-cgi -T 100 /home/huixinchen/local/www/htdocs/wordpress/index.php >/dev/null\n```\n\n也就是让php-cgi跑100遍wordpress的首页, 从而生成一些在这个过程中的profile信息.\n\n最后:\n\n```\n$ make prof-clean\n$ make prof-use && make install\n```\n\n这个时候你编译得到的PHP7就是为你的项目量身打造的最高性能的编译版本.\n\n暂时就这么多吧, 以后想起来再加, 欢迎大家尝试, thanks\n\n\n\n本文转载自[http://www.laruence.com/2015/12/04/3086.html](http://www.laruence.com/2015/12/04/3086.html \"http://www.laruence.com/2015/12/04/3086.html\")',18,1,2,'[\"php\"]'),(14,'关于编译php7.2的一些小问题','','2018-09-04 03:06:56',NULL,'<p>今天在新买的服务器上编译安装php7.2的时候发现一直报Bad Gateway错误，我一开始以为是nginx配置错误，但是我在查看nginx的错误日志时发现并不是nginx的错误，所以在排除了nginx的错误后就只有可能是php出错了。由于我对于编译安装php并不熟悉，所以我也不知道到底哪里出错了。但是我突然想到，既然编译安装php后需要将php.ini-default改为php.ini，所以有没有可能是php还有什么配置文件没有删除default后缀，然后果然找到了/usr/local/php/etc/php-fpm.conf.default和/usr/local/php/etc/php-fpm.d/www.conf.default这两个文件，将default后缀删除后再启动php-fpm果然能正常显示页面了。下面贴上相关代码，服务器是debian系统。</p>\n<p>安装编译工具和依赖包</p>\n<pre><code class=\"lang-\">sudo apt-get install \\\nbuild-essential \\\ngcc \\\ng++ \\\nautoconf \\\nlibiconv-hook-dev \\\nlibmcrypt-dev \\\nlibxml2-dev \\\nlibmysqlclient-dev \\\nlibcurl4-openssl-dev \\\nlibjpeg8-dev \\\nlibpng12-dev \\\nlibfreetype6-dev \\\n</code></pre>\n<p>下载php7.2后解压，进入解压后的目录</p>\n<pre><code class=\"lang-\">./configure --prefix=/usr/local/php \\\n--with-config-file-path=/etc/php \\\n--enable-fpm \\\n--enable-pcntl \\\n--enable-mysqlnd \\\n--enable-opcache \\\n--enable-sockets \\\n--enable-sysvmsg \\\n--enable-sysvsem \\\n--enable-sysvshm \\\n--enable-shmop \\\n--enable-zip \\\n--enable-soap \\\n--enable-xml \\\n--enable-mbstring \\\n--disable-rpath \\\n--disable-debug \\\n--disable-fileinfo \\\n--with-mysql=mysqlnd \\\n--with-mysqli=mysqlnd \\\n--with-pdo-mysql=mysqlnd \\\n--with-pcre-regex \\\n--with-iconv \\\n--with-zlib \\\n--with-mcrypt \\\n--with-gd \\\n--with-openssl \\\n--with-mhash \\\n--with-xmlrpc \\\n--with-curl \\\n--with-imap-ssl\n\nsudo make &amp;&amp; make install\n</code></pre>\n<p>将执行目录添加到环境变量中</p>\n<pre><code class=\"lang-\">export PATH=/usr/local/php/bin:$PATH\nexport PATH=/usr/local/php/sbin:$PATH\n</code></pre>\n<p>执行</p>\n<pre><code class=\"lang-\">source ~/.bashrc\n</code></pre>\n<p>copy配置文件</p>\n<pre><code class=\"lang-\">sudo mkdir /etc/php\nsudo cp /usr/local/php/etc/php-fpm.conf.default /usr/local/php/etc/php-fpm.conf\nsudo cp /usr/local/php/etc/php-fpm.d/www.conf.default /usr/local/php/etc/php-fpm.d/www.conf\n</code></pre>\n<p>nginx的配置如下，其中$document_root为nginx设置的网站根目录路径</p>\n<pre><code class=\"lang-\">location ~ \\.php$ {\n	include snippets/fastcgi-php.conf;\n	fastcgi_pass 127.0.0.1:9000;\n	fastcgi_index index.php;\n	fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n	include fastcgi_params;\n}\n</code></pre>','今天在新买的服务器上编译安装php7.2的时候发现一直报Bad Gateway错误，我一开始以为是nginx配置错误，但是我在查看nginx的错误日志时发现并不是nginx的错误，所以在排除了nginx的错误后就只有可能是php出错了。由于我对于编译安装php并不熟悉，所以我也不知道到底哪里出错了。但是我突然想到，既然编译安装php后需要将php.ini-default改为php.ini，所以有没有可能是php还有什么配置文件没有删除default后缀，然后果然找到了/usr/local/php/etc/php-fpm.conf.default和/usr/local/php/etc/php-fpm.d/www.conf.default这两个文件，将default后缀删除后再启动php-fpm果然能正常显示页面了。下面贴上相关代码，服务器是debian系统。\n\n安装编译工具和依赖包\n```\nsudo apt-get install \\\nbuild-essential \\\ngcc \\\ng++ \\\nautoconf \\\nlibiconv-hook-dev \\\nlibmcrypt-dev \\\nlibxml2-dev \\\nlibmysqlclient-dev \\\nlibcurl4-openssl-dev \\\nlibjpeg8-dev \\\nlibpng12-dev \\\nlibfreetype6-dev \\\n```\n\n下载php7.2后解压，进入解压后的目录\n```\n./configure --prefix=/usr/local/php \\\n--with-config-file-path=/etc/php \\\n--enable-fpm \\\n--enable-pcntl \\\n--enable-mysqlnd \\\n--enable-opcache \\\n--enable-sockets \\\n--enable-sysvmsg \\\n--enable-sysvsem \\\n--enable-sysvshm \\\n--enable-shmop \\\n--enable-zip \\\n--enable-soap \\\n--enable-xml \\\n--enable-mbstring \\\n--disable-rpath \\\n--disable-debug \\\n--disable-fileinfo \\\n--with-mysql=mysqlnd \\\n--with-mysqli=mysqlnd \\\n--with-pdo-mysql=mysqlnd \\\n--with-pcre-regex \\\n--with-iconv \\\n--with-zlib \\\n--with-mcrypt \\\n--with-gd \\\n--with-openssl \\\n--with-mhash \\\n--with-xmlrpc \\\n--with-curl \\\n--with-imap-ssl\n\nsudo make && make install\n```\n\n将执行目录添加到环境变量中\n```\nexport PATH=/usr/local/php/bin:$PATH\nexport PATH=/usr/local/php/sbin:$PATH\n```\n\n执行\n```\nsource ~/.bashrc\n```\n\ncopy配置文件\n```\nsudo mkdir /etc/php\nsudo cp /usr/local/php/etc/php-fpm.conf.default /usr/local/php/etc/php-fpm.conf\nsudo cp /usr/local/php/etc/php-fpm.d/www.conf.default /usr/local/php/etc/php-fpm.d/www.conf\n```\n\nnginx的配置如下，其中$document_root为nginx设置的网站根目录路径\n```\nlocation ~ \\.php$ {\n	include snippets/fastcgi-php.conf;\n	fastcgi_pass 127.0.0.1:9000;\n	fastcgi_index index.php;\n	fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n	include fastcgi_params;\n}\n```',21,0,1,'[\"php\"]'),(15,'php实现二叉树','','2018-08-31 05:07:58','2018-05-30 22:01:03','<pre><div class=\"hljs\"><code class=\"lang-php\"><span class=\"hljs-meta\">&lt;?php</span>\n<span class=\"hljs-comment\">// 树节点类</span>\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">binaryTreeNode</span>\n</span>{\n    <span class=\"hljs-comment\">// 比较节点键值的大小</span>\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">compare</span><span class=\"hljs-params\">($oldkey, $newkey)</span>\n    </span>{\n        <span class=\"hljs-keyword\">return</span> $newkey - $oldkey;\n    }\n\n    <span class=\"hljs-comment\">// 建立一个新节点</span>\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">createNode</span><span class=\"hljs-params\">($key, $left, $right)</span>\n    </span>{\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">array</span>(<span class=\"hljs-string\">\'k\'</span> =&gt; $key, <span class=\"hljs-string\">\'l\'</span> =&gt; $left, <span class=\"hljs-string\">\'r\'</span> =&gt; $right);\n    }\n}\n\n<span class=\"hljs-comment\">// 二叉树类</span>\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">binaryTree</span>\n</span>{\n    <span class=\"hljs-keyword\">public</span> $id = <span class=\"hljs-number\">1</span>; <span class=\"hljs-comment\">// 内部UID，自动加1</span>\n    <span class=\"hljs-keyword\">public</span> $nodeCount = <span class=\"hljs-number\">0</span>; <span class=\"hljs-comment\">// 该树节点数，每插入一个加1</span>\n    <span class=\"hljs-keyword\">public</span> $root = <span class=\"hljs-keyword\">null</span>; <span class=\"hljs-comment\">// 树根的引用</span>\n\n    <span class=\"hljs-keyword\">public</span> $tree = <span class=\"hljs-keyword\">array</span>(); <span class=\"hljs-comment\">// 树结构，中间存贮所有节点</span>\n\n    <span class=\"hljs-keyword\">public</span> $_nodes = <span class=\"hljs-keyword\">array</span>(); <span class=\"hljs-comment\">// 存贮不同类型的节点，主要是为了引用该类的方法，便于继承，暂时没有用到</span>\n    <span class=\"hljs-keyword\">public</span> $_node = <span class=\"hljs-keyword\">null</span>; <span class=\"hljs-comment\">// 当前节点类的引用</span>\n\n    <span class=\"hljs-comment\">// 构造函数，初始化</span>\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">binaryTree</span><span class=\"hljs-params\">($nodetype = <span class=\"hljs-string\">\'binaryTreeNode\'</span>)</span>\n    </span>{\n        <span class=\"hljs-keyword\">if</span> (!class_exists($nodetype)) {\n            $nodetype = <span class=\"hljs-string\">\'binaryTreeNode\'</span>;\n        }\n\n        <span class=\"hljs-keyword\">$this</span>-&gt;_nodes[$nodetype] = <span class=\"hljs-keyword\">new</span> $nodetype();\n        <span class=\"hljs-keyword\">$this</span>-&gt;_node = &amp;<span class=\"hljs-keyword\">$this</span>-&gt;_nodes[$nodetype];\n    }\n\n    <span class=\"hljs-comment\">// 设定节点类型，暂时用处不大，主要为扩展</span>\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">setNodeType</span><span class=\"hljs-params\">($nodetype = <span class=\"hljs-string\">\'binaryTreeNode\'</span>)</span>\n    </span>{\n        <span class=\"hljs-keyword\">if</span> (!class_exists($nodetype)) {\n            $nodetype = <span class=\"hljs-string\">\'binaryTreeNode\'</span>;\n        }\n\n        <span class=\"hljs-keyword\">$this</span>-&gt;_node = &amp;<span class=\"hljs-keyword\">$this</span>-&gt;_nodes[$nodetype];\n    }\n\n    <span class=\"hljs-comment\">// 插入一节点后修改所有相关节点的信息</span>\n    <span class=\"hljs-comment\">// $root 为当前根节点，后两个参数为新节点的参数</span>\n    <span class=\"hljs-comment\">// 即在树中插入一个新节点后，找到此节点所插入的位置并修改其父节点的信息</span>\n    <span class=\"hljs-comment\">// 此函数本为递归，但因为是尾递归(rear-recursive)，因此可以改成循环</span>\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">modifyTree</span><span class=\"hljs-params\">(&amp;$root, $key, $id)</span>\n    </span>{\n        $r = &amp;$root;\n        <span class=\"hljs-keyword\">while</span> (<span class=\"hljs-keyword\">true</span>) {\n            $b = <span class=\"hljs-keyword\">$this</span>-&gt;_node-&gt;compare($r[<span class=\"hljs-string\">\'k\'</span>], $key);\n            <span class=\"hljs-keyword\">if</span> ($b &lt;= <span class=\"hljs-number\">0</span>) {\n                <span class=\"hljs-keyword\">if</span> ($r[<span class=\"hljs-string\">\'l\'</span>] != <span class=\"hljs-number\">0</span>) {\n                    $r = &amp;<span class=\"hljs-keyword\">$this</span>-&gt;tree[$r[<span class=\"hljs-string\">\'l\'</span>]];\n                } <span class=\"hljs-keyword\">else</span> {\n                    $r[<span class=\"hljs-string\">\'l\'</span>] = $id;\n                    <span class=\"hljs-keyword\">break</span>;\n                }\n            } <span class=\"hljs-keyword\">else</span> {\n                <span class=\"hljs-keyword\">if</span> ($r[<span class=\"hljs-string\">\'r\'</span>] != <span class=\"hljs-number\">0</span>) {\n                    $r = &amp;<span class=\"hljs-keyword\">$this</span>-&gt;tree[$r[<span class=\"hljs-string\">\'r\'</span>]];\n                } <span class=\"hljs-keyword\">else</span> {\n                    $r[<span class=\"hljs-string\">\'r\'</span>] = $id;\n                    <span class=\"hljs-keyword\">break</span>;\n                }\n            }\n        }\n    }\n\n    <span class=\"hljs-comment\">// 重置树信息</span>\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">reset</span><span class=\"hljs-params\">()</span>\n    </span>{\n        <span class=\"hljs-keyword\">$this</span>-&gt;tree = <span class=\"hljs-keyword\">array</span>();\n        <span class=\"hljs-keyword\">$this</span>-&gt;root = <span class=\"hljs-keyword\">null</span>;\n        <span class=\"hljs-keyword\">$this</span>-&gt;id = <span class=\"hljs-number\">1</span>;\n        <span class=\"hljs-keyword\">$this</span>-&gt;nodeCount = <span class=\"hljs-number\">0</span>;\n        <span class=\"hljs-keyword\">$this</span>-&gt;_node = <span class=\"hljs-keyword\">null</span>;\n    }\n\n    <span class=\"hljs-comment\">// 插入一个键为$key的节点，并自动为此节点生成一个唯一ID</span>\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">insertNode</span><span class=\"hljs-params\">($key)</span>\n    </span>{\n        $node = <span class=\"hljs-keyword\">$this</span>-&gt;_node-&gt;createNode($key, <span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">0</span>);\n        <span class=\"hljs-keyword\">$this</span>-&gt;tree[<span class=\"hljs-keyword\">$this</span>-&gt;id] = $node;\n        <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-keyword\">$this</span>-&gt;root == <span class=\"hljs-keyword\">null</span>) {\n            <span class=\"hljs-keyword\">$this</span>-&gt;root = &amp;<span class=\"hljs-keyword\">$this</span>-&gt;tree[<span class=\"hljs-number\">1</span>];\n        } <span class=\"hljs-keyword\">else</span> {\n            <span class=\"hljs-keyword\">$this</span>-&gt;modifyTree(<span class=\"hljs-keyword\">$this</span>-&gt;root, $key, <span class=\"hljs-keyword\">$this</span>-&gt;id);\n        }\n        <span class=\"hljs-keyword\">$this</span>-&gt;id++;\n        <span class=\"hljs-keyword\">$this</span>-&gt;nodeCount++;\n    }\n\n    <span class=\"hljs-comment\">// 先根遍历，打印树结构，用的递归</span>\n    <span class=\"hljs-comment\">// 此函数可修改用于任何用途</span>\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">preorder</span><span class=\"hljs-params\">(&amp;$root, $level, $r = <span class=\"hljs-string\">\'r\'</span>)</span>\n    </span>{\n        $p = &amp;$root;\n\n        <span class=\"hljs-keyword\">if</span> ($r == <span class=\"hljs-string\">\'l\'</span>) {\n            $s = str_repeat(<span class=\"hljs-string\">\"\\t\"</span>, <span class=\"hljs-number\">1</span>);\n        } <span class=\"hljs-keyword\">else</span> {\n            $s = str_repeat(<span class=\"hljs-string\">\"\\t\"</span>, $level);\n        }\n\n        <span class=\"hljs-keyword\">echo</span> $s . $p[<span class=\"hljs-string\">\'k\'</span>] . <span class=\"hljs-string\">\"\"</span>;\n\n        <span class=\"hljs-keyword\">if</span> ($p[<span class=\"hljs-string\">\'r\'</span>] != <span class=\"hljs-number\">0</span>) {\n            $p1 = &amp;<span class=\"hljs-keyword\">$this</span>-&gt;tree[$p[<span class=\"hljs-string\">\'r\'</span>]];\n            <span class=\"hljs-keyword\">$this</span>-&gt;preorder($p1, $level + <span class=\"hljs-number\">1</span>, <span class=\"hljs-string\">\'l\'</span>);\n        } <span class=\"hljs-keyword\">else</span> {\n            $s = str_repeat(<span class=\"hljs-string\">\"\\t\"</span>, <span class=\"hljs-number\">1</span>);\n            <span class=\"hljs-keyword\">echo</span> $s . <span class=\"hljs-string\">\'null\'</span> . <span class=\"hljs-string\">\"\\n\"</span>;\n        }\n        <span class=\"hljs-keyword\">if</span> ($p[<span class=\"hljs-string\">\'l\'</span>] != <span class=\"hljs-number\">0</span>) {\n            $p1 = &amp;<span class=\"hljs-keyword\">$this</span>-&gt;tree[$p[<span class=\"hljs-string\">\'l\'</span>]];\n            <span class=\"hljs-keyword\">$this</span>-&gt;preorder($p1, $level + <span class=\"hljs-number\">1</span>);\n        } <span class=\"hljs-keyword\">else</span> {\n            $s = str_repeat(<span class=\"hljs-string\">\"\\t\"</span>, $level + <span class=\"hljs-number\">1</span>);\n            <span class=\"hljs-keyword\">echo</span> $s . <span class=\"hljs-string\">\'null\'</span> . <span class=\"hljs-string\">\"\\n\"</span>;\n        }\n    }\n}\n\n<span class=\"hljs-comment\">//---------------------------------------------------</span>\n<span class=\"hljs-comment\">// the following is the test</span>\n\n<span class=\"hljs-comment\">// 此函数主要是为了兼容性</span>\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">make_seed</span><span class=\"hljs-params\">()</span>\n</span>{\n    <span class=\"hljs-keyword\">list</span>($usec, $sec) = explode(<span class=\"hljs-string\">\' \'</span>, microtime());\n    <span class=\"hljs-keyword\">return</span> (float) $sec + ((float) $usec * <span class=\"hljs-number\">100000</span>);\n}\n\n<span class=\"hljs-comment\">// 生成随机序列键值</span>\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">generateRandamSequence</span><span class=\"hljs-params\">($min = <span class=\"hljs-number\">1</span>, $max = <span class=\"hljs-number\">100</span>)</span>\n</span>{\n    srand(make_seed());\n    $n = $min;\n    $a = <span class=\"hljs-keyword\">array</span>();\n    <span class=\"hljs-keyword\">while</span> ($n &lt;= $max) {\n        $randval = rand($min, $max);\n        <span class=\"hljs-keyword\">if</span> ($a[$randval - $min] == <span class=\"hljs-string\">\'\'</span>) {\n            $a[$randval - $min] = $n;\n            $n++;\n        }\n    }\n    reset($a);\n    ksort($a);\n    reset($a);\n    <span class=\"hljs-keyword\">return</span> $a;\n}\n\n$min = <span class=\"hljs-number\">1</span>;\n$max = <span class=\"hljs-number\">100</span>;\n\n<span class=\"hljs-comment\">// 将随机序列键值存入一数组内</span>\n$a = generateRandamSequence($min, $max);\nprint_r($a); <span class=\"hljs-comment\">// 打印数组</span>\n\n$tree = <span class=\"hljs-keyword\">new</span> binaryTree; <span class=\"hljs-comment\">// 建立一棵树</span>\n\n<span class=\"hljs-comment\">// 将节点按键值顺序插入到树中，同时调整树的结构</span>\n<span class=\"hljs-keyword\">for</span> ($i = <span class=\"hljs-number\">0</span>; $i &lt; $max - $min + <span class=\"hljs-number\">1</span>; $i++) {\n    $tree-&gt;insertNode($a[$i]);\n}\n\nprint_r($tree); <span class=\"hljs-comment\">// 打印树对象的内容</span>\n\n<span class=\"hljs-keyword\">echo</span> serialize($tree); <span class=\"hljs-comment\">// 打印树序列化之后的内容</span>\n\n<span class=\"hljs-keyword\">echo</span> <span class=\"hljs-string\">\"&lt;hr&gt;;\\n&lt;pre&gt;;\"</span>;\n\n$t = &amp;$tree-&gt;root; <span class=\"hljs-comment\">// 指定树根，为以下传入引用参数用</span>\n$tree-&gt;preorder($t, <span class=\"hljs-number\">0</span>); <span class=\"hljs-comment\">// 先根遍历，打印树型结构</span>\n<span class=\"hljs-comment\">// 打印完毕可发现，键值比根键值小的所有节点均在根的左边，反之则在右边，每个节点都是如此</span>\n<span class=\"hljs-comment\">// 但此树不是平衡树（AVL树），因此查询效率还是比较低，特别是如果是连成一直线，则效率达到最低，不能利用树的对数特性了</span>\n<span class=\"hljs-keyword\">echo</span> <span class=\"hljs-string\">\"&lt;/pre&gt;;\"</span>; <span class=\"hljs-comment\">// 打印完毕</span>\n\n</code></div></pre>','```php\n<?php\n// 树节点类\nclass binaryTreeNode\n{\n    // 比较节点键值的大小\n    public function compare($oldkey, $newkey)\n    {\n        return $newkey - $oldkey;\n    }\n\n    // 建立一个新节点\n    public function createNode($key, $left, $right)\n    {\n        return array(\'k\' => $key, \'l\' => $left, \'r\' => $right);\n    }\n}\n\n// 二叉树类\nclass binaryTree\n{\n    public $id = 1; // 内部UID，自动加1\n    public $nodeCount = 0; // 该树节点数，每插入一个加1\n    public $root = null; // 树根的引用\n\n    public $tree = array(); // 树结构，中间存贮所有节点\n\n    public $_nodes = array(); // 存贮不同类型的节点，主要是为了引用该类的方法，便于继承，暂时没有用到\n    public $_node = null; // 当前节点类的引用\n\n    // 构造函数，初始化\n    public function binaryTree($nodetype = \'binaryTreeNode\')\n    {\n        if (!class_exists($nodetype)) {\n            $nodetype = \'binaryTreeNode\';\n        }\n\n        $this->_nodes[$nodetype] = new $nodetype();\n        $this->_node = &$this->_nodes[$nodetype];\n    }\n\n    // 设定节点类型，暂时用处不大，主要为扩展\n    public function setNodeType($nodetype = \'binaryTreeNode\')\n    {\n        if (!class_exists($nodetype)) {\n            $nodetype = \'binaryTreeNode\';\n        }\n\n        $this->_node = &$this->_nodes[$nodetype];\n    }\n\n    // 插入一节点后修改所有相关节点的信息\n    // $root 为当前根节点，后两个参数为新节点的参数\n    // 即在树中插入一个新节点后，找到此节点所插入的位置并修改其父节点的信息\n    // 此函数本为递归，但因为是尾递归(rear-recursive)，因此可以改成循环\n    public function modifyTree(&$root, $key, $id)\n    {\n        $r = &$root;\n        while (true) {\n            $b = $this->_node->compare($r[\'k\'], $key);\n            if ($b <= 0) {\n                if ($r[\'l\'] != 0) {\n                    $r = &$this->tree[$r[\'l\']];\n                } else {\n                    $r[\'l\'] = $id;\n                    break;\n                }\n            } else {\n                if ($r[\'r\'] != 0) {\n                    $r = &$this->tree[$r[\'r\']];\n                } else {\n                    $r[\'r\'] = $id;\n                    break;\n                }\n            }\n        }\n    }\n\n    // 重置树信息\n    public function reset()\n    {\n        $this->tree = array();\n        $this->root = null;\n        $this->id = 1;\n        $this->nodeCount = 0;\n        $this->_node = null;\n    }\n\n    // 插入一个键为$key的节点，并自动为此节点生成一个唯一ID\n    public function insertNode($key)\n    {\n        $node = $this->_node->createNode($key, 0, 0);\n        $this->tree[$this->id] = $node;\n        if ($this->root == null) {\n            $this->root = &$this->tree[1];\n        } else {\n            $this->modifyTree($this->root, $key, $this->id);\n        }\n        $this->id++;\n        $this->nodeCount++;\n    }\n\n    // 先根遍历，打印树结构，用的递归\n    // 此函数可修改用于任何用途\n    public function preorder(&$root, $level, $r = \'r\')\n    {\n        $p = &$root;\n\n        if ($r == \'l\') {\n            $s = str_repeat(\"\\t\", 1);\n        } else {\n            $s = str_repeat(\"\\t\", $level);\n        }\n\n        echo $s . $p[\'k\'] . \"\";\n\n        if ($p[\'r\'] != 0) {\n            $p1 = &$this->tree[$p[\'r\']];\n            $this->preorder($p1, $level + 1, \'l\');\n        } else {\n            $s = str_repeat(\"\\t\", 1);\n            echo $s . \'null\' . \"\\n\";\n        }\n        if ($p[\'l\'] != 0) {\n            $p1 = &$this->tree[$p[\'l\']];\n            $this->preorder($p1, $level + 1);\n        } else {\n            $s = str_repeat(\"\\t\", $level + 1);\n            echo $s . \'null\' . \"\\n\";\n        }\n    }\n}\n\n//---------------------------------------------------\n// the following is the test\n\n// 此函数主要是为了兼容性\nfunction make_seed()\n{\n    list($usec, $sec) = explode(\' \', microtime());\n    return (float) $sec + ((float) $usec * 100000);\n}\n\n// 生成随机序列键值\nfunction generateRandamSequence($min = 1, $max = 100)\n{\n    srand(make_seed());\n    $n = $min;\n    $a = array();\n    while ($n <= $max) {\n        $randval = rand($min, $max);\n        if ($a[$randval - $min] == \'\') {\n            $a[$randval - $min] = $n;\n            $n++;\n        }\n    }\n    reset($a);\n    ksort($a);\n    reset($a);\n    return $a;\n}\n\n$min = 1;\n$max = 100;\n\n// 将随机序列键值存入一数组内\n$a = generateRandamSequence($min, $max);\nprint_r($a); // 打印数组\n\n$tree = new binaryTree; // 建立一棵树\n\n// 将节点按键值顺序插入到树中，同时调整树的结构\nfor ($i = 0; $i < $max - $min + 1; $i++) {\n    $tree->insertNode($a[$i]);\n}\n\nprint_r($tree); // 打印树对象的内容\n\necho serialize($tree); // 打印树序列化之后的内容\n\necho \"<hr>;\\n<pre>;\";\n\n$t = &$tree->root; // 指定树根，为以下传入引用参数用\n$tree->preorder($t, 0); // 先根遍历，打印树型结构\n// 打印完毕可发现，键值比根键值小的所有节点均在根的左边，反之则在右边，每个节点都是如此\n// 但此树不是平衡树（AVL树），因此查询效率还是比较低，特别是如果是连成一直线，则效率达到最低，不能利用树的对数特性了\necho \"</pre>;\"; // 打印完毕\n\n```',1,1,1,'[\"php\"]'),(16,'升级mysql8的一些问题','','2018-08-31 05:50:22','2018-08-31 05:43:00','<p>浏览mysql官网的时候发现首页有个推荐栏目说是MySQL8比之前的版本性能提升至少2倍，于是就打算在服务器上使用，在升级过程中还是遇到了一些问题。</p>\n<p><img src=\"http://o90jk9gyr.bkt.clouddn.com/TIM%E5%9B%BE%E7%89%8720180831014549.jpg\" alt=\"\" /></p>\n<p>更新方式是使用dpkg更新源直接apt安装</p>\n<pre><code class=\"lang-\">wget https://dev.mysql.com/get/mysql-apt-config_0.8.10-1_all.deb\ndpkg -i mysql-apt....\napt-get update\napt-get install mysql-server\n</code></pre>\n<p>安装完成之后进入数据库发现就是mysql8.x(具体多少忘了)版本</p>\n<p>测试框架是laravel5.5，此时项目已经部署好，可就在向数据库请求数据时报错</p>\n<pre><code class=\"lang-\">SQLSTATE[HY000] [2054] The server requested authentication method unknown to the client\n</code></pre>\n<p>嗯。。。？验证方法未知，上官网看了下文档，发现MySQL8验证密码与mysql5.x不同，是caching_sha2_password，那么只能在配置文件中改变MySQL验证密码的方式</p>\n<pre><code class=\"lang-\">/etc/mysql/my.cnf\ndefault-authentication-plugin=mysql_native_password\n</code></pre>\n<p>然后再创建一个用户，为了省事我直接赋予了所有权限</p>\n<pre><code class=\"lang-\">create user \'zysama\'@\'%\' identified by \'xxxx\';\ngrant all PRIVILEGES on *.* to \'zysama\'@\'%\';\nflush privileges;\n</code></pre>\n<p>然后修改laravel数据库连接信息，发现此时依然报错，但是错误信息是</p>\n<pre><code class=\"lang-\">SQLSTATE[42000]: Syntax error or access violation: \n1231 Variable \'sql_mode\' can\'t be set to the value of \'NO_AUTO_CREATE_USER\'\n</code></pre>\n<p>继续看文档，发现MySQL8已经没有<code>NO_AUTO_CREATE_USER</code>这种模式,上网查阅解决方案，发现仅有的两种方案全部失败<br />\n一是：将<code>config/database.php</code>配置文件中<code>mysql</code>的<code>strict</code>的值改为<code>false</code><br />\n二是：在<code>mysql</code>中添加<code>modes</code>参数，依然失败</p>\n<pre><code class=\"lang-\">\'mysql\' =&gt; [\n        \'driver\' =&gt; \'mysql\',\n        \'host\' =&gt; env(\'DB_HOST\', \'127.0.0.1\'),\n        \'port\' =&gt; env(\'DB_PORT\', \'3306\'),\n        \'database\' =&gt; env(\'DB_DATABASE\', \'forge\'),\n        \'username\' =&gt; env(\'DB_USERNAME\', \'forge\'),\n        \'password\' =&gt; env(\'DB_PASSWORD\', \'\'),\n        \'unix_socket\' =&gt; env(\'DB_SOCKET\', \'\'),\n        \'charset\' =&gt; \'utf8mb4\',\n        \'collation\' =&gt; \'utf8mb4_unicode_ci\',\n        \'prefix\' =&gt; \'\',\n        \'strict\' =&gt; true,\n        \'engine\' =&gt; null,\n        \'modes\'  =&gt; [\n            \'ONLY_FULL_GROUP_BY\',\n            \'STRICT_TRANS_TABLES\',\n            \'NO_ZERO_IN_DATE\',\n            \'NO_ZERO_DATE\',\n            \'ERROR_FOR_DIVISION_BY_ZERO\',\n            \'NO_ENGINE_SUBSTITUTION\',\n        ],\n    ],\n</code></pre>\n<p>于是退回mysql5.7，公司还有17个issue要改呢，该洗洗睡了</p>\n<p><img src=\"http://o90jk9gyr.bkt.clouddn.com/TIM%E5%9B%BE%E7%89%8720180831014148.jpg\" alt=\"\" /></p>','浏览mysql官网的时候发现首页有个推荐栏目说是MySQL8比之前的版本性能提升至少2倍，于是就打算在服务器上使用，在升级过程中还是遇到了一些问题。\n\n![](http://o90jk9gyr.bkt.clouddn.com/TIM%E5%9B%BE%E7%89%8720180831014549.jpg)\n\n更新方式是使用dpkg更新源直接apt安装\n\n```\nwget https://dev.mysql.com/get/mysql-apt-config_0.8.10-1_all.deb\ndpkg -i mysql-apt....\napt-get update\napt-get install mysql-server\n```\n\n安装完成之后进入数据库发现就是mysql8.x(具体多少忘了)版本\n\n测试框架是laravel5.5，此时项目已经部署好，可就在向数据库请求数据时报错\n\n```\nSQLSTATE[HY000] [2054] The server requested authentication method unknown to the client\n```\n\n嗯。。。？验证方法未知，上官网看了下文档，发现MySQL8验证密码与mysql5.x不同，是caching_sha2_password，那么只能在配置文件中改变MySQL验证密码的方式\n\n```\n/etc/mysql/my.cnf\ndefault-authentication-plugin=mysql_native_password\n```\n\n然后再创建一个用户，为了省事我直接赋予了所有权限\n\n```\ncreate user \'zysama\'@\'%\' identified by \'xxxx\';\ngrant all PRIVILEGES on *.* to \'zysama\'@\'%\';\nflush privileges;\n```\n\n然后修改laravel数据库连接信息，发现此时依然报错，但是错误信息是\n\n```\nSQLSTATE[42000]: Syntax error or access violation: \n1231 Variable \'sql_mode\' can\'t be set to the value of \'NO_AUTO_CREATE_USER\'\n```\n\n继续看文档，发现MySQL8已经没有``NO_AUTO_CREATE_USER``这种模式,上网查阅解决方案，发现仅有的两种方案全部失败\n一是：将``config/database.php``配置文件中``mysql``的``strict``的值改为``false``\n二是：在``mysql``中添加``modes``参数，依然失败\n\n```\n\'mysql\' => [\n        \'driver\' => \'mysql\',\n        \'host\' => env(\'DB_HOST\', \'127.0.0.1\'),\n        \'port\' => env(\'DB_PORT\', \'3306\'),\n        \'database\' => env(\'DB_DATABASE\', \'forge\'),\n        \'username\' => env(\'DB_USERNAME\', \'forge\'),\n        \'password\' => env(\'DB_PASSWORD\', \'\'),\n        \'unix_socket\' => env(\'DB_SOCKET\', \'\'),\n        \'charset\' => \'utf8mb4\',\n        \'collation\' => \'utf8mb4_unicode_ci\',\n        \'prefix\' => \'\',\n        \'strict\' => true,\n        \'engine\' => null,\n        \'modes\'  => [\n            \'ONLY_FULL_GROUP_BY\',\n            \'STRICT_TRANS_TABLES\',\n            \'NO_ZERO_IN_DATE\',\n            \'NO_ZERO_DATE\',\n            \'ERROR_FOR_DIVISION_BY_ZERO\',\n            \'NO_ENGINE_SUBSTITUTION\',\n        ],\n    ],\n```\n\n于是退回mysql5.7，公司还有17个issue要改呢，该洗洗睡了\n\n![](http://o90jk9gyr.bkt.clouddn.com/TIM%E5%9B%BE%E7%89%8720180831014148.jpg)',1,1,1,'[\"sql\"]');
/*!40000 ALTER TABLE `articles` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `comments`
--

DROP TABLE IF EXISTS `comments`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
 SET character_set_client = utf8mb4 ;
CREATE TABLE `comments` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `pid` int(11) unsigned NOT NULL DEFAULT '0',
  `article_id` int(11) unsigned NOT NULL DEFAULT '0',
  `create_time` int(11) unsigned NOT NULL DEFAULT '0',
  `update_time` int(11) unsigned NOT NULL DEFAULT '0',
  `name` varchar(25) NOT NULL,
  `email` varchar(30) DEFAULT NULL,
  `url` varchar(25) DEFAULT NULL,
  `content` varchar(255) NOT NULL DEFAULT '',
  `ppid` int(10) unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comments`
--

LOCK TABLES `comments` WRITE;
/*!40000 ALTER TABLE `comments` DISABLE KEYS */;
INSERT INTO `comments` VALUES (1,0,5,1506925343,1506925343,'Yu','619565627@qq.com','http://www.yyyyzf.me','咸鱼一条还说这么多话',0),(2,1,5,1506925482,1506925482,'Ysama','805655528@qq.com','http://www.zysama.top','就是因为咸鱼所以才话多啊',0),(3,0,6,1510936382,1510936382,'kicoe','1370808234@qq.com','http://kicoe.com','我小时候通最终幻想1、2合集的时候也没啥感觉啊，还是GBA上的最终幻想战略版好玩。',0),(4,3,6,1510936786,1510936786,'Ysama','805655528@qq.com','http://www.zysama.top','感觉最终幻想越来越没诚意了',0),(5,0,1,1520020251,0,'kicoe','ankicoe@gmail.com','kicoe.com','你文章竟然学我的把markdown写到textarea里。。。话说我自己写的markdown.js只有你引用的那个解析工具的五分之一，为什么不用我的呀',0);
/*!40000 ALTER TABLE `comments` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `harems`
--

DROP TABLE IF EXISTS `harems`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
 SET character_set_client = utf8mb4 ;
CREATE TABLE `harems` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(50) NOT NULL DEFAULT '',
  `email` varchar(100) NOT NULL DEFAULT '',
  `url` varchar(100) NOT NULL DEFAULT '',
  `create_time` int(11) unsigned NOT NULL DEFAULT '0',
  `update_time` int(11) unsigned NOT NULL DEFAULT '0',
  `image` varchar(255) NOT NULL DEFAULT '',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=5 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `harems`
--

LOCK TABLES `harems` WRITE;
/*!40000 ALTER TABLE `harems` DISABLE KEYS */;
INSERT INTO `harems` VALUES (1,'Yu Zhifeng','619565627@qq.com','http://blog.yyyyzf.me/',1510823145,1510823145,''),(2,'kicoe','ankicoe@gmail.com','http://www.kicoe.com',1510823145,1510823145,'');
/*!40000 ALTER TABLE `harems` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `music_comments`
--

DROP TABLE IF EXISTS `music_comments`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
 SET character_set_client = utf8mb4 ;
CREATE TABLE `music_comments` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `song_id` int(10) unsigned NOT NULL,
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `image` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `date` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `content` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `praise` int(10) unsigned NOT NULL,
  `updated_at` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `created_at` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `music_comments`
--

LOCK TABLES `music_comments` WRITE;
/*!40000 ALTER TABLE `music_comments` DISABLE KEYS */;
/*!40000 ALTER TABLE `music_comments` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `musics`
--

DROP TABLE IF EXISTS `musics`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
 SET character_set_client = utf8mb4 ;
CREATE TABLE `musics` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `song_id` int(11) unsigned NOT NULL,
  `title` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `image` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `album_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `album_img` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `album_id` int(11) unsigned NOT NULL,
  `updated_at` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `created_at` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `mv_id` int(11) unsigned NOT NULL,
  `time` int(11) unsigned NOT NULL,
  `artists` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `play_list_id` int(11) unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=27 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `musics`
--

LOCK TABLES `musics` WRITE;
/*!40000 ALTER TABLE `musics` DISABLE KEYS */;
INSERT INTO `musics` VALUES (1,37764711,'aLIEz (Kolaa\'s Bootleg Remix)','http://p1.music.126.net/qDkS6qKFIH4Rm50eqlSF9Q==/733374265764132.jpg','aLIEz (Kolaa\'s Bootleg Remix)','http://p1.music.126.net/qDkS6qKFIH4Rm50eqlSF9Q==/733374265764132.jpg',3413673,'2018-05-25 23:46:44','2018-05-25 23:46:44',0,285823,'[{\"id\": 1160050, \"name\": \"Kolaa\", \"alias\": [], \"picId\": 0, \"trans\": \"\", \"picUrl\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"img1v1Id\": 0, \"albumSize\": 0, \"briefDesc\": \"\", \"img1v1Url\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"musicSize\": 0}]',2178305627),(2,41654827,'[A]ddiction','http://p1.music.126.net/GLkqbOgU0oiQRIj8G-qTyg==/3296335869557246.jpg','EVOLUTION','http://p1.music.126.net/GLkqbOgU0oiQRIj8G-qTyg==/3296335869557246.jpg',3451491,'2018-05-25 23:46:45','2018-05-25 23:46:45',5795037,196773,'[{\"id\": 1154015, \"name\": \"EVO+\", \"alias\": [], \"picId\": 0, \"trans\": \"\", \"picUrl\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"img1v1Id\": 0, \"albumSize\": 0, \"briefDesc\": \"\", \"img1v1Url\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"musicSize\": 0}]',2178305627),(3,474739195,'Tough & Alone','http://p1.music.126.net/nmM0_2pRX5FN8FthLfHzOg==/18749971790352097.jpg','eYe\'s','http://p1.music.126.net/nmM0_2pRX5FN8FthLfHzOg==/18749971790352097.jpg',35377620,'2018-05-25 23:46:45','2018-05-25 23:46:45',0,237215,'[{\"id\": 1137126, \"name\": \"MYTH & ROID\", \"alias\": [], \"picId\": 0, \"trans\": \"\", \"picUrl\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"img1v1Id\": 0, \"albumSize\": 0, \"briefDesc\": \"\", \"img1v1Url\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"musicSize\": 0}]',2178305627),(4,34003212,'Nightcore-This Little Girl ','http://p1.music.126.net/1wAQSSgdoDrixE5I0gOtVw==/7987951977585096.jpg','This Little Girl','http://p1.music.126.net/1wAQSSgdoDrixE5I0gOtVw==/7987951977585096.jpg',3270304,'2018-05-25 23:46:45','2018-05-25 23:46:45',0,180035,'[{\"id\": 1018108, \"name\": \"Nightcore\", \"alias\": [], \"picId\": 0, \"trans\": \"\", \"picUrl\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"img1v1Id\": 0, \"albumSize\": 0, \"briefDesc\": \"\", \"img1v1Url\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"musicSize\": 0}]',2178305627),(5,502238480,'Club Ki3ε','http://p1.music.126.net/WStPGvMUlDC89Wus9813zA==/109951163014870789.jpg','2V-ALK','http://p1.music.126.net/WStPGvMUlDC89Wus9813zA==/109951163014870789.jpg',36030720,'2018-05-25 23:46:45','2018-05-25 23:46:45',5646443,207893,'[{\"id\": 12531080, \"name\": \"Gemie\", \"alias\": [], \"picId\": 0, \"trans\": \"\", \"picUrl\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"img1v1Id\": 0, \"albumSize\": 0, \"briefDesc\": \"\", \"img1v1Url\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"musicSize\": 0}, {\"id\": 1096011, \"name\": \"SawanoHiroyuki[nZk]\", \"alias\": [], \"picId\": 0, \"trans\": \"\", \"picUrl\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"img1v1Id\": 0, \"albumSize\": 0, \"briefDesc\": \"\", \"img1v1Url\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"musicSize\": 0}]',2178305627),(6,468490587,'取リ憑イタ業病','http://p1.music.126.net/rq1RmeyTRfJUHR4EwKJmmg==/18710389371705314.jpg','NieR:Automata Original Soundtrack','http://p1.music.126.net/rq1RmeyTRfJUHR4EwKJmmg==/18710389371705314.jpg',35297411,'2018-05-25 23:46:45','2018-05-25 23:46:45',0,302773,'[{\"id\": 860709, \"name\": \"岡部啓一\", \"alias\": [], \"picId\": 0, \"trans\": \"\", \"picUrl\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"img1v1Id\": 0, \"albumSize\": 0, \"briefDesc\": \"\", \"img1v1Url\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"musicSize\": 0}]',2178305627),(7,29713168,'All of you is all of me','http://p1.music.126.net/Hsq0R8zeX2HEr1DTcPrI2Q==/3228166139472910.jpg','ノーゲーム・ノーライフ スペシャルCD ～サウンドトラック Vol.3','http://p1.music.126.net/Hsq0R8zeX2HEr1DTcPrI2Q==/3228166139472910.jpg',3064021,'2018-05-25 23:46:45','2018-05-25 23:46:45',0,157701,'[{\"id\": 14098784, \"name\": \"田中文久\", \"alias\": [], \"picId\": 0, \"trans\": \"\", \"picUrl\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"img1v1Id\": 0, \"albumSize\": 0, \"briefDesc\": \"\", \"img1v1Url\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"musicSize\": 0}]',2178305627),(8,30212978,'Enigmatic Feeling (2015 Mix)','http://p1.music.126.net/amlEszpozYCvr4Bw5i2kNg==/7747158929401755.jpg','Best of Tornado','http://p1.music.126.net/amlEszpozYCvr4Bw5i2kNg==/7747158929401755.jpg',3094388,'2018-05-25 23:46:45','2018-05-25 23:46:45',0,233691,'[{\"id\": 160421, \"name\": \"凛として時雨\", \"alias\": [], \"picId\": 0, \"trans\": \"\", \"picUrl\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"img1v1Id\": 0, \"albumSize\": 0, \"briefDesc\": \"\", \"img1v1Url\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"musicSize\": 0}]',2178305627),(9,22660295,'ねこみみスイッチ','http://p1.music.126.net/6_4etUpMoHS6WoocNZ0QqA==/832330302250183.jpg','Nyan Cat','http://p1.music.126.net/6_4etUpMoHS6WoocNZ0QqA==/832330302250183.jpg',2078049,'2018-05-25 23:46:45','2018-05-25 23:46:45',0,235259,'[{\"id\": 16266, \"name\": \"daniwellP\", \"alias\": [], \"picId\": 0, \"trans\": \"\", \"picUrl\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"img1v1Id\": 0, \"albumSize\": 0, \"briefDesc\": \"\", \"img1v1Url\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"musicSize\": 0}]',2178305627),(10,729877,'Vivienne - You\'re the Shine(Night Butterflies)','http://p1.music.126.net/uPGwUIt5BzR650v2T8bmqw==/7994549047861705.jpg','Milky Wink','http://p1.music.126.net/uPGwUIt5BzR650v2T8bmqw==/7994549047861705.jpg',71456,'2018-05-25 23:46:45','2018-05-25 23:46:45',0,309185,'[{\"id\": 19460, \"name\": \"FELT\", \"alias\": [], \"picId\": 0, \"trans\": \"\", \"picUrl\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"img1v1Id\": 0, \"albumSize\": 0, \"briefDesc\": \"\", \"img1v1Url\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"musicSize\": 0}]',2178305627),(11,401250219,'Running My Head','http://p1.music.126.net/omaXwC_ooVvWTGKh1qyrWw==/528865144148726.jpg','Dark Nightcore','http://p1.music.126.net/omaXwC_ooVvWTGKh1qyrWw==/528865144148726.jpg',34443048,'2018-05-25 23:46:45','2018-05-25 23:46:45',0,152659,'[{\"id\": 11992020, \"name\": \"Kevin91x\", \"alias\": [], \"picId\": 0, \"trans\": \"\", \"picUrl\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"img1v1Id\": 0, \"albumSize\": 0, \"briefDesc\": \"\", \"img1v1Url\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"musicSize\": 0}]',2178305627),(12,468513534,'戦争ト戦争：丁','http://p1.music.126.net/UFxptbic_7Z6JKvZb4Lezg==/19232657393108302.jpg','NieR:Automata Original Soundtrack HACKING TRACKS','http://p1.music.126.net/UFxptbic_7Z6JKvZb4Lezg==/19232657393108302.jpg',35314358,'2018-05-25 23:46:45','2018-05-25 23:46:45',0,147826,'[{\"id\": 20725, \"name\": \"MONACA\", \"alias\": [], \"picId\": 0, \"trans\": \"\", \"picUrl\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"img1v1Id\": 0, \"albumSize\": 0, \"briefDesc\": \"\", \"img1v1Url\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"musicSize\": 0}]',2178305627),(13,524151000,'遺サレタ場所 (Arranged by AJURIKA)','http://p1.music.126.net/RO1EBfpHX-9-vslEQe0f5w==/109951163088533699.jpg','NieR:Automata Arranged & Unreleased Tracks','http://p1.music.126.net/RO1EBfpHX-9-vslEQe0f5w==/109951163088533699.jpg',36981274,'2018-05-25 23:46:45','2018-05-25 23:46:45',0,240039,'[{\"id\": 860709, \"name\": \"岡部啓一\", \"alias\": [], \"picId\": 0, \"trans\": \"\", \"picUrl\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"img1v1Id\": 0, \"albumSize\": 0, \"briefDesc\": \"\", \"img1v1Url\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"musicSize\": 0}]',2178305627),(14,472219448,'心拍数#0822','http://p1.music.126.net/knuZxQIl0tWXn8bHjnyq_w==/17770306928531115.jpg','声 ~VOCALOID Cover Album~','http://p1.music.126.net/knuZxQIl0tWXn8bHjnyq_w==/17770306928531115.jpg',35357285,'2018-05-25 23:46:46','2018-05-25 23:46:46',0,296866,'[{\"id\": 996276, \"name\": \"H△G\", \"alias\": [], \"picId\": 0, \"trans\": \"\", \"picUrl\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"img1v1Id\": 0, \"albumSize\": 0, \"briefDesc\": \"\", \"img1v1Url\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"musicSize\": 0}]',2178305627),(15,480409956,'Morning Call','http://p1.music.126.net/ZAzUrrcayrUxi749au5iTQ==/18576248953201329.jpg','ORESAMA','http://p1.music.126.net/ZAzUrrcayrUxi749au5iTQ==/18576248953201329.jpg',35555052,'2018-05-25 23:46:46','2018-05-25 23:46:46',0,281880,'[{\"id\": 1028026, \"name\": \"ORESAMA\", \"alias\": [], \"picId\": 0, \"trans\": \"\", \"picUrl\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"img1v1Id\": 0, \"albumSize\": 0, \"briefDesc\": \"\", \"img1v1Url\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"musicSize\": 0}]',2178305627),(16,814264,'しゃん・だら・りん♪','http://p1.music.126.net/JST9QLeSCXtoYoeJD5_0CA==/935684395237650.jpg','兎ましまろ','http://p1.music.126.net/JST9QLeSCXtoYoeJD5_0CA==/935684395237650.jpg',80604,'2018-05-25 23:46:46','2018-05-25 23:46:46',0,210000,'[{\"id\": 21232, \"name\": \"Rhyth.\", \"alias\": [], \"picId\": 0, \"trans\": \"\", \"picUrl\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"img1v1Id\": 0, \"albumSize\": 0, \"briefDesc\": \"\", \"img1v1Url\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"musicSize\": 0}]',2178305627),(17,486999133,'Girl Inside','http://p1.music.126.net/YC4pwc7iaLoO_-bR0wBJsA==/19198572532779991.jpg','崩坏3-Impact- Original Soundtrack','http://p1.music.126.net/YC4pwc7iaLoO_-bR0wBJsA==/19198572532779991.jpg',35622177,'2018-05-25 23:46:46','2018-05-25 23:46:46',0,189797,'[{\"id\": 16823, \"name\": \"小林未郁\", \"alias\": [], \"picId\": 0, \"trans\": \"\", \"picUrl\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"img1v1Id\": 0, \"albumSize\": 0, \"briefDesc\": \"\", \"img1v1Url\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"musicSize\": 0}]',2178305627),(18,33984818,'不毛!','http://p1.music.126.net/qrFRb7Q1u-75Sfu60sLHmA==/7964862233442297.jpg','吟風弄月 GINPU ROUGETSU','http://p1.music.126.net/qrFRb7Q1u-75Sfu60sLHmA==/7964862233442297.jpg',3266972,'2018-05-25 23:46:46','2018-05-25 23:46:46',0,239697,'[{\"id\": 975812, \"name\": \"ぽてんしゃる0\", \"alias\": [], \"picId\": 0, \"trans\": \"\", \"picUrl\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"img1v1Id\": 0, \"albumSize\": 0, \"briefDesc\": \"\", \"img1v1Url\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"musicSize\": 0}]',2178305627),(19,497347,'rain','http://p1.music.126.net/BHkbCInVWhfwjqp0gwZqZg==/810340069714843.jpg','Spirits : X\' tended','http://p1.music.126.net/BHkbCInVWhfwjqp0gwZqZg==/810340069714843.jpg',47512,'2018-05-25 23:46:46','2018-05-25 23:46:46',0,263497,'[{\"id\": 15286, \"name\": \"SoulJa\", \"alias\": [], \"picId\": 0, \"trans\": \"\", \"picUrl\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"img1v1Id\": 0, \"albumSize\": 0, \"briefDesc\": \"\", \"img1v1Url\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"musicSize\": 0}]',2178305627),(20,406072685,'Ni','http://p1.music.126.net/kGq9VBC4n23RFODxUwFELQ==/3295236359250908.jpg','Ni','http://p1.music.126.net/kGq9VBC4n23RFODxUwFELQ==/3295236359250908.jpg',34527726,'2018-05-25 23:46:46','2018-05-25 23:46:46',0,206657,'[{\"id\": 1064078, \"name\": \"Xeuphoria\", \"alias\": [], \"picId\": 0, \"trans\": \"\", \"picUrl\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"img1v1Id\": 0, \"albumSize\": 0, \"briefDesc\": \"\", \"img1v1Url\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"musicSize\": 0}]',2178305627),(21,686361,'桜华月想','http://p1.music.126.net/Wz5wM6dzoIwD2Yo6AgXIlg==/631119674355153.jpg','Overture l SUWA','http://p1.music.126.net/Wz5wM6dzoIwD2Yo6AgXIlg==/631119674355153.jpg',66390,'2018-05-25 23:46:46','2018-05-25 23:46:46',0,297733,'[{\"id\": 18461, \"name\": \"ALiCE\'S EMOTiON\", \"alias\": [], \"picId\": 0, \"trans\": \"\", \"picUrl\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"img1v1Id\": 0, \"albumSize\": 0, \"briefDesc\": \"\", \"img1v1Url\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"musicSize\": 0}]',2178305627),(22,467787951,'reol - No title（三人双声道/ShakingHigh Remix）','http://p1.music.126.net/nikAUaRMtm6-ekcgqMt7eA==/109951162884628615.jpg','No title（三人双声道/ShakingHigh Remix）','http://p1.music.126.net/nikAUaRMtm6-ekcgqMt7eA==/109951162884628615.jpg',35311228,'2018-05-25 23:46:46','2018-05-25 23:46:46',0,243995,'[{\"id\": 12183130, \"name\": \"ShakingHigh\", \"alias\": [], \"picId\": 0, \"trans\": \"\", \"picUrl\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"img1v1Id\": 0, \"albumSize\": 0, \"briefDesc\": \"\", \"img1v1Url\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"musicSize\": 0}, {\"id\": 0, \"name\": \"れをる\", \"alias\": [], \"picId\": 0, \"trans\": \"\", \"picUrl\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"img1v1Id\": 0, \"albumSize\": 0, \"briefDesc\": \"\", \"img1v1Url\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"musicSize\": 0}, {\"id\": 0, \"name\": \"初音ミク\", \"alias\": [], \"picId\": 0, \"trans\": \"\", \"picUrl\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"img1v1Id\": 0, \"albumSize\": 0, \"briefDesc\": \"\", \"img1v1Url\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"musicSize\": 0}]',2178305627),(23,29126914,'色は匂へど散りぬるを','http://p1.music.126.net/kHGxov_DbpmprQ9IJ0I7wA==/6665239487827754.jpg','蜃景2','http://p1.music.126.net/kHGxov_DbpmprQ9IJ0I7wA==/6665239487827754.jpg',2987737,'2018-05-25 23:46:46','2018-05-25 23:46:46',0,222014,'[{\"id\": 13535, \"name\": \"Yonder Voice\", \"alias\": [], \"picId\": 0, \"trans\": \"\", \"picUrl\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"img1v1Id\": 0, \"albumSize\": 0, \"briefDesc\": \"\", \"img1v1Url\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"musicSize\": 0}, {\"id\": 190631, \"name\": \"瑶山百霊\", \"alias\": [], \"picId\": 0, \"trans\": \"\", \"picUrl\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"img1v1Id\": 0, \"albumSize\": 0, \"briefDesc\": \"\", \"img1v1Url\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"musicSize\": 0}]',2178305627),(24,474739197,'theater D','http://p1.music.126.net/nmM0_2pRX5FN8FthLfHzOg==/18749971790352097.jpg','eYe\'s','http://p1.music.126.net/nmM0_2pRX5FN8FthLfHzOg==/18749971790352097.jpg',35377620,'2018-05-25 23:46:46','2018-05-25 23:46:46',0,221170,'[{\"id\": 1137126, \"name\": \"MYTH & ROID\", \"alias\": [], \"picId\": 0, \"trans\": \"\", \"picUrl\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"img1v1Id\": 0, \"albumSize\": 0, \"briefDesc\": \"\", \"img1v1Url\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"musicSize\": 0}]',2178305627),(25,34852355,'ぐるぐる××','http://p1.music.126.net/D4dkIIDUK3dT-Lbgtb8EtA==/3294136837672851.jpg','SamSaRa -サンサーラ-','http://p1.music.126.net/D4dkIIDUK3dT-Lbgtb8EtA==/3294136837672851.jpg',3295759,'2018-05-25 23:46:46','2018-05-25 23:46:46',0,261537,'[{\"id\": 16900, \"name\": \"小峠舞\", \"alias\": [], \"picId\": 0, \"trans\": \"\", \"picUrl\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"img1v1Id\": 0, \"albumSize\": 0, \"briefDesc\": \"\", \"img1v1Url\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"musicSize\": 0}]',2178305627),(26,408332583,'Ruby','http://p1.music.126.net/hr9oeCLSRjSeCKRuqjeXDA==/1424967073296856.jpg','Ruby','http://p1.music.126.net/hr9oeCLSRjSeCKRuqjeXDA==/1424967073296856.jpg',34588559,'2018-05-25 23:46:46','2018-05-25 23:46:46',0,260101,'[{\"id\": 12024272, \"name\": \"Kaivaan\", \"alias\": [], \"picId\": 0, \"trans\": \"\", \"picUrl\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"img1v1Id\": 0, \"albumSize\": 0, \"briefDesc\": \"\", \"img1v1Url\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"musicSize\": 0}, {\"id\": 12248031, \"name\": \"aori\", \"alias\": [], \"picId\": 0, \"trans\": \"\", \"picUrl\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"img1v1Id\": 0, \"albumSize\": 0, \"briefDesc\": \"\", \"img1v1Url\": \"http://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\", \"musicSize\": 0}]',2178305627);
/*!40000 ALTER TABLE `musics` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `pixivs`
--

DROP TABLE IF EXISTS `pixivs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
 SET character_set_client = utf8mb4 ;
CREATE TABLE `pixivs` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `img_id` int(10) unsigned DEFAULT NULL,
  `title` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `url` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `praise` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `width` int(4) DEFAULT NULL,
  `height` int(4) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `play_lists`
--

DROP TABLE IF EXISTS `play_lists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
 SET character_set_client = utf8mb4 ;
CREATE TABLE `play_lists` (
  `title` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `image` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `play_count` int(11) unsigned NOT NULL,
  `music_count` int(11) unsigned NOT NULL,
  `id` int(11) unsigned NOT NULL,
  `updated_at` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `created_at` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `play_lists`
--

LOCK TABLES `play_lists` WRITE;
/*!40000 ALTER TABLE `play_lists` DISABLE KEYS */;
INSERT INTO `play_lists` VALUES ('伊飘雪喜欢的音乐','http://p1.music.126.net/Oh49TQtZTl2_Gj4RPHaOgw==/3387595325977123.jpg',3728,604,139310909,'2018-05-24 23:06:32','2018-05-24 23:06:32'),('游戏用','http://p1.music.126.net/qDkS6qKFIH4Rm50eqlSF9Q==/733374265764132.jpg',2,26,2178305627,'2018-05-24 23:44:47','2018-05-24 23:44:47');
/*!40000 ALTER TABLE `play_lists` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `tags`
--

DROP TABLE IF EXISTS `tags`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
 SET character_set_client = utf8mb4 ;
CREATE TABLE `tags` (
  `id` tinyint(3) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(10) NOT NULL DEFAULT '',
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `tags`
--

LOCK TABLES `tags` WRITE;
/*!40000 ALTER TABLE `tags` DISABLE KEYS */;
INSERT INTO `tags` VALUES (1,'生活',NULL,NULL),(2,'php',NULL,NULL),(3,'游戏',NULL,NULL),(4,'js','2018-05-28 22:25:30','2018-05-28 22:25:30'),(5,'sql','2018-08-31 05:08:26','2018-08-31 05:08:26');
/*!40000 ALTER TABLE `tags` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2018-11-24  1:00:11
